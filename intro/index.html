<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
<title>Preliminary notions for Software Development</title>
<meta name="description" content="Preliminary notions for Software Development">
<meta name="author" content="Danilo Pianini">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="/distributed-systems-python-101/reveal-js/dist/reset.css">
<link rel="stylesheet" href="/distributed-systems-python-101/reveal-js/dist/reveal.css">
  <link rel="stylesheet" href="/distributed-systems-python-101/css/custom-theme.min.c0f7878dc8d1bf72f682bf675cb3aee36f75a07caeda734f3608c1221c238ecd.css" id="theme"><link rel="stylesheet" href="/distributed-systems-python-101/highlight-js/github.min.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/DanySK/css-blur-animation/master/blur.css">
<link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oxygen Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Ubuntu Mono" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/81ac037be0.js" crossorigin="anonymous"></script>
<script src="https://MatteoMagnini.github.io/distributed-systems-python-101//plantuml.js"></script>

  </head>
  <body>
    
    <div class="reveal">
      <div class="slides">
  

    <section><h1 id="preliminary-notions-for-software-development">Preliminary notions for Software Development</h1>
<br>
<h2 id="hahahugoshortcode1s0hbhb">Python 101</h2>
<h3 id="for-distributed-systems"><strong>(for Distributed Systems)</strong></h3>
<h3 id="module-2">Module 2</h3>
<h4 id="hahahugoshortcode1s1hbhb">A.Y. 2024/2025</h4>
<h5 id="hahahugoshortcode1s2hbhb"><a href="mailto:giovanni.ciatto@unibo.it">Giovanni Ciatto</a></h5>
<h5 id="hahahugoshortcode1s3hbhb"><a href="mailto:matteo.magnini@unibo.it">Matteo Magnini</a></h5>
<br>
<br>
<p>Compiled on: 2024-09-09 ‚Äî <a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> printable version</a></p>
<p><a href=".."><i class="fa fa-undo" aria-hidden="true"></i> back</a></p>
<p><a href="#table-of-contents"><i class="fa fa-arrow-right" aria-hidden="true"></i> table of content</a></p>
</section><section>
<h2 id="motivation-and-goals">Motivation and goals</h2>
<ul>
<li>
<p>In order to put everybody on the <em>same page</em>‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ we are going to recall some <em>basic notions</em> and <em>technical aspects</em> related to <strong>python</strong> and how to handle a <strong>python project</strong>, namely:</p>
<ul>
<li>the command line</li>
<li>the anatomy of a software project in Python</li>
<li>the role of modelling in SE</li>
<li>ubiquitous (w.r.t. SE) notions such as interfaces and runtimes</li>
</ul>
</li>
</ul>
<!-- - plus, we will provide practical examples about key concepts such as
    - automated testing
    - deployment, packaging, and release
    - maintenance -->
</section><section>
<h1 id="the-command-line">The command-line</h1>
<p>(a.k.a. the shell, the terminal, the console)</p>
</section><section>
<h2 id="first-contact-with-the-terminal">First contact with the terminal</h2>
<ol>
<li>Open your terminal application
<ul>
<li>Either ‚ÄúPowerShell‚Äù, ‚ÄúCommand Prompt‚Äù, ‚ÄúTerminal‚Äù on Windows</li>
<li>‚ÄúiTerm‚Äù or ‚ÄúTerminal‚Äù on macOS</li>
<li>‚ÄúKonsole‚Äù or ‚ÄúTerminal‚Äù on Linux</li>
</ul>
</li>
</ol>
<blockquote>
<p>The terminal is a text-based interface to the operative system (OS).
Each terminal application is executing a <strong>shell</strong> program</p>
</blockquote>
<blockquote>
<p>The shell is a program that has a simple job: <strong>REPL</strong> (Read, Evaluate, Print, Loop)</p>
<ol>
<li>it <strong>reads</strong> a <em>command</em> from the user</li>
<li>it <strong>evaluates</strong> the command</li>
<li>it <strong>prints</strong> the result</li>
<li>it <strong>loops</strong> back to step 1, unless the user explicitly asks to <strong>exit</strong></li>
</ol>
</blockquote>
<ol start="2">
<li>Write a few simple commands and observe the effect
<ul>
<li><code>ls</code> (or <code>dir</code> on Windows): should list the files in the current directory</li>
<li><code>echo "Hello World"</code>: should print ‚ÄúHello World‚Äù on the screen</li>
<li><code>exit</code>: should close the shell (and the terminal application, if it‚Äôs the only shell)</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="why-the-terminal">Why the terminal?</h2>
<!-- Mostly, to look hacker-ish in the eyes of normal people üòé

(just kidding) -->
<br>
<ul>
<li>
<p>The terminal is a powerful tool for software development</p>
</li>
<li>
<p>It allows developers to interact with the OS in a precise, minimal, and efficient way</p>
</li>
<li>
<p>Most operations in software development can, and often should, be performed from the terminal</p>
</li>
</ul>
<blockquote>
<p>The terminal may accept commands:</p>
<ul>
<li><strong>interactively</strong>, from the user</li>
<li>from a <strong>script</strong>, which is a file containing commands to be executed by a shell</li>
</ul>
</blockquote>
</section><section>
<h2 id="developers-are-inherently-lazy">Developers are inherently lazy</h2>
<p>Developers‚Äô mindset:</p>
<blockquote>
<p>If a <strong>person</strong> can do it <em>manually</em> via the shell, then a <strong>script</strong> can do it <em>automatically</em></p>
</blockquote>
<blockquote>
<p>If a <strong>script</strong> can do it <em>automatically</em>, then that‚Äôs the way of doing it</p>
</blockquote>
<ul>
<li>these are the basic principles behind <strong>automation</strong></li>
<li>a part from <em>time-saving</em> and <em>precision</em> in execution, automation enables <strong>reproducibility</strong> of the process
<ol>
<li>experts can <em>distill</em> their <em>operational knowledge</em> into scripts</li>
<li>scripts can be <em>called</em> (i.e. invoked, executed) by non-experts</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="to-automate-or-not-to-automate">To automate or not to automate?</h2>
<p>Beware, ‚Äòcause scripts are <strong>software</strong> too, and they require engineering:</p>
<p><img src="https://imgs.xkcd.com/comics/automation.png" alt="A comic making fun of the excess of automation"></p>
<p><a href="https://xkcd.com/1319/">https://xkcd.com/1319/</a></p>
<br>
<ul>
<li>There is an implict <strong>trade-off</strong> between
<ol>
<li>the time <em>spent</em> to automate a task (i.e. <strong>coding</strong>)</li>
<li>and the time <em>saved</em> w.r.t. doing the task <strong>manually</strong></li>
</ol>
</li>
</ul>
<p>This is not really the case of everyday programming tasks, but let‚Äôs keep this in mind</p>
</section><section>
<h2 id="why-the-terminal-in-this-course">Why the terminal in this course?</h2>
<ul>
<li>
<p>We are going to use the terminal for:</p>
<ul>
<li>running Python scripts</li>
<li>managing Python projects (version tracking, tests, releases, etc.)</li>
</ul>
</li>
<li>
<p>Understaing how to do stuff via the terminal is a <em>reusable</em> <strong>skill</strong></p>
<ul>
<li>while IDE and GUIs evolve quickly, and every team has its own preferences‚Ä¶</li>
<li>command line tools are very stable and widely adopted</li>
</ul>
</li>
<li>
<p>We encourage you to read the following lectures from The MIT‚Äôs <a href="https://missing.csail.mit.edu/">‚ÄúMissing Semester of Your CS Education‚Äù</a>:</p>
<ol>
<li><a href="https://missing.csail.mit.edu/2020/course-shell/">The shell</a></li>
<li><a href="https://missing.csail.mit.edu/2020/shell-tools/">Shell tools</a></li>
<li><a href="https://missing.csail.mit.edu/2020/command-line/">Commnad-line environment</a></li>
</ol>
</li>
</ul>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-1">Stuff you need to know about the shell (pt. 1)</h2>
<ul>
<li>There exist essentially two sorts of shells:
<ol>
<li>the Unix-like shells (e.g., <code>bash</code>, <code>zsh</code>, <code>fish</code>, <code>ksh</code>, <code>csh</code>, <code>tcsh</code>, etc.) used by Linux and macOS
<ul>
<li>and, to some extent, by Windows</li>
</ul>
</li>
<li>the Windows shells (e.g., <code>cmd</code>, <code>PowerShell</code>) which are different from the Unix-like ones, and from each other</li>
</ol>
</li>
</ul>
<blockquote>
<p>Whenever working with the terminal, first thing to do is to understand <em>which</em> shell you are using</p>
<ol>
<li>if you‚Äôre on Linux, you‚Äôre probably using <code>bash</code> or <code>zsh</code></li>
<li>if you‚Äôre on macOS, you‚Äôre probably using <code>zsh</code> or <code>bash</code></li>
<li>if you‚Äôre on Windows, you‚Äôre probably using
<ul>
<li><code>cmd</code> if you opened the Command Prompt application</li>
<li><code>PowerShell</code> is you opened the PowerShell application</li>
<li><code>bash</code> if are using the Windows Subsystem for Linux (WSL) or Git Bash</li>
</ul>
</li>
</ol>
</blockquote>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-2">Stuff you need to know about the shell (pt. 2)</h2>
<ul>
<li>
<p>Whenver you open a shell, the shell is ‚Äúin‚Äù a directory, which is called the <strong>current working directory</strong> (CWD)</p>
<ul>
<li>by default, commands <em>operate</em> on the CWD (i.e. they read and write files in the CWD)</li>
<li>that directory should be shown <em>somewhere</em> in the shell‚Äôs <em>prompt</em></li>
<li>if not shown, you can always <em>ask</em> the shell to show it, via some command</li>
</ul>
</li>
<li>
<p>If one wants to operate on a <em>file</em> in a <em>different directory</em>‚Ä¶</p>
<ul>
<li>
<p>‚Ä¶ they have to <em>change</em> the CWD</p>
<ul>
<li>this is done via the <code>cd</code> command (change directory)</li>
</ul>
</li>
<li>
<p>‚Ä¶ without changing the CWD, they have to <em>specify</em> the <strong>path</strong> to the file</p>
<ul>
<li>this is done via the <em>absolute</em> or <em>relative</em> <strong>path</strong> to the file</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-3">Stuff you need to know about the shell (pt. 3)</h2>
<p>A <strong>path</strong> is a string that represents the location of a file or a directory in the <strong>file system</strong></p>
<blockquote>
<p><strong>Beware</strong>: path-separator is different among Windows (<code>\</code>) and other OS (<code>/</code>),</p>
<p>and <strong>we only use <code>/</code> in the slides</strong></p>
</blockquote>
<ul>
<li>
<p>A <strong>relative path</strong> is a path that is relative to the CWD</p>
<ul>
<li>e.g., <code>./file.txt</code> refers to a file named <code>file.txt</code> in the CWD</li>
<li>e.g., <code>../file.txt</code> refers to a file named <code>file.txt</code> in the <strong>parent directory</strong> of the CWD</li>
<li>e.g., <code>./dir/file.txt</code> refers to a file named <code>file.txt</code> in a sub-directory of CWD, named <code>dir</code></li>
</ul>
</li>
<li>
<p>An <strong>absolute path</strong> is a path that starts from the <strong>root</strong> of the file system</p>
<ul>
<li>on <strong>Unix</strong>-like systems, the <em>root is <code>/</code></em>
<ul>
<li>e.g. <code>/home/giovanni/file.txt</code> refers to a file named <code>file.txt</code> in <code>giovanni</code>‚Äôs home directory on <strong>Linux</strong></li>
<li>e.g. <code>/Users/giovanni/file.txt</code> refers to a file named <code>file.txt</code> in <code>giovanni</code>‚Äôs home directory on <strong>macOS</strong></li>
</ul>
</li>
<li>on <strong>Windows</strong>, there are <em>several roots</em>, one per <strong>drive</strong> (e.g., <code>C:</code>, <code>D:</code>, etc.)
<ul>
<li>e.g. <code>C:\Users\giovanni\file.txt</code> refers file <code>file.txt</code> in <code>giovanni</code>‚Äôs home directory, <em>on drive <code>C:</code></em></li>
<li>e.g. <code>D:\Data\Photos\profile.jpg</code> refers file <code>profile.jpg</code> in the <code>Data\Photos</code> directory, <em>on drive <code>D:</code></em></li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<!-- this file includes generated content. Do not edit. Edit content/intro/_generator.md, instead. -->
<h2 id="terminal-cheat-sheet">Terminal cheat sheet</h2>
<table>
<thead>
<tr>
<th>Operation</th>
<th><i class="fab fa-linux"></i> <i class="fab fa-apple"></i> *nix</th>
<th><i class="fab fa-windows"></i> win</th>
</tr>
</thead>
<tbody>
<tr>
<td>Print the current directory location</td>
<td><code>pwd</code></td>
<td><code>echo %cd%</code></td>
</tr>
<tr>
<td>Remove the file <code>foo</code> (does not work with directories)</td>
<td><code>rm foo</code></td>
<td><code>del foo</code></td>
</tr>
<tr>
<td>Remove directory <code>bar</code></td>
<td><code>rm -r bar</code></td>
<td><code>del bar</code></td>
</tr>
<tr>
<td>Change disk (e.g., switch to <code>D:</code>)</td>
<td>n.a., single root (<code>/</code>)</td>
<td><code>D:</code></td>
</tr>
<tr>
<td>Move to the subdirectory <code>baz</code></td>
<td><code>cd baz</code></td>
<td><code>cd baz</code></td>
</tr>
<tr>
<td>Move to the parent directory</td>
<td><code>cd ..</code></td>
<td><code>cd..</code></td>
</tr>
<tr>
<td>Move (rename) file <code>foo</code> to <code>baz</code></td>
<td><code>mv foo baz</code></td>
<td><code>move foo baz</code></td>
</tr>
<tr>
<td>Copy file <code>foo</code> to <code>baz</code></td>
<td><code>cp foo baz</code></td>
<td><code>copy foo baz</code></td>
</tr>
<tr>
<td>Create a directory named <code>bar</code></td>
<td><code>mkdir bar</code></td>
<td><code>md bar</code></td>
</tr>
</tbody>
</table>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-4">Stuff you need to know about the shell (pt. 4)</h2>
<ul>
<li>
<p>Most commands have <strong>arguments</strong></p>
<ul>
<li>roughly, whatever you can write <em>after the command name</em> is an argument</li>
</ul>
</li>
<li>
<p>If you think of commands as <em>functions</em>, then arguments are the <em>parameters</em> of the function</p>
<ul>
<li>and the command is the <em>function name</em></li>
<li>and the printed output is the <em>return value</em></li>
<li>simply, no parentheses are required by default for ‚Äúinvoking‚Äù the function</li>
</ul>
</li>
<li>
<p>Consider the <code>ls</code> command</p>
<ul>
<li><code>ls</code> lists the files in the CWD, <em>as an inline list</em></li>
<li><code>ls -l</code> lists the files in the CWD, <em>as a detailed list</em></li>
<li><code>ls -l /path/to/dir</code> lists the files in the <code>/path/to/dir</code> directory, <em>as a detailed list</em></li>
</ul>
</li>
</ul>
</section><section>
<h2 id="how-the-hell-can-i-memorise-all-these-commands">How the hell can I memorise all these commands?</h2>
<p>You should not.</p>
<ul>
<li>
<p>Just try to grasp the basic idea of how shells work</p>
</li>
<li>
<p>Just memorise that <strong>there exist a way to do <code>X</code></strong> via the shell</p>
<ul>
<li>and all relevant <code>X</code>s</li>
</ul>
</li>
<li>
<p>You will eventually memorise the syntax of most frequent commands</p>
</li>
<li>
<p>For the rest, you can always look up the documentation</p>
<ul>
<li>or the Web, or ask someone, there including ChatGPT or StackOverflow
<ul>
<li>but please, <strong>do not copy&amp;paste code that you do not understand</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Most commands support asking for help when one does not remeber the syntax</p>
<ul>
<li>e.g. <code>COMMAND_NAME --help</code> or <code>COMMAND_NAME -h</code> mostly used on Unix-like systems</li>
<li>e.g. <code>man COMMAND_NAME</code> mostly used on Unix-like systems (man is for <em>‚Äúmanual‚Äù</em>)</li>
<li>e.g. <code>COMMAND_NAME /?</code> mostly used on Windows</li>
<li>e.g. <code>Get-Help COMMAND_NAME</code> mostly used on Windows</li>
</ul>
</li>
</ul>
<blockquote>
<p>Do not waste your memory, learn how to look up the documentation instead</p>
</blockquote>
</section><section>
<h2 id="about-interactive-commands-pt-1">About interactive commands (pt. 1)</h2>
<ul>
<li>
<p>Some commands are <strong>interactive</strong></p>
<ul>
<li>when you start them, they to <em>not</em> <strong>terminate immediately</strong></li>
<li>instead, they <em>wait for user input</em></li>
</ul>
</li>
<li>
<p>In this case we say that the command is just <em>starting</em> a <strong>process</strong></p>
<ul>
<li>‚Äúprocess‚Äù is a technical term for a <em>program that is running</em></li>
<li>an <strong>app</strong> is commonly a process attached to a <strong>graphical user interace</strong> (<em>GUI</em>) shown on the screen</li>
</ul>
</li>
<li>
<p>There is <em>no difference</em> among <strong>interactive</strong> and <strong>non</strong>-<em>interactive</em> processes, <em>for the shell</em></p>
<ol>
<li>a command is used to <em>start</em> the process</li>
<li>the command will <em>stay alive</em>,
<ul>
<li>and possibly consume the user‚Äôs <em>input</em></li>
<li>and possibly produce some <em>output</em></li>
</ul>
</li>
<li>for some reason, the process may eventually <strong>terminate</strong>
<ul>
<li>e.g., because of some input from the user, some error, or some condition met</li>
</ul>
</li>
<li>when that the case, <strong>control</strong> is returned to <em>the shell</em>
<ul>
<li>which will ask for more commands, as usual</li>
</ul>
</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="about-interactive-commands-pt-2">About interactive commands (pt. 2)</h2>
<ul>
<li>
<p>Upon termination, each command returns an <strong>exit code</strong> (i.e. a <em>non-negative integer</em>)</p>
<ul>
<li><code>0</code> means <em>‚Äúeverything went fine‚Äù</em></li>
<li>any other number means <em>‚Äúsomething went wrong‚Äù</em> (each number is a different <em>error code</em>)</li>
<li>so the shell always knows if the <em>last command was successful</em> or not</li>
</ul>
</li>
<li>
<p>When using the shell <em>interactively</em>:</p>
<ul>
<li>pay attention to whether <em>the last command you wrote</em> was <strong>successful</strong> or not</li>
</ul>
</li>
<li>
<p>When programming the shell <em>in a script</em>:</p>
<ul>
<li>you can check the exit code of the last command via the special variable <code>$?</code></li>
<li>you can use the <code>if</code> statement to check the exit code and act accordingly</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-interactive-processes-pt-1">About interactive processes (pt. 1)</h2>
<p>In the eyes of the OS, any process can be modelled as follows:</p>
<!--![A process has three default streams: input, output, and error](./process.png)-->
<p align="center">
<img src="https://raw.githubusercontent.com/unibo-dtm-se/course-slides/master/content/preliminaries/process.png" alt="drawing" style="width:400px;">
</p>
<ul>
<li>
<p>i.e. a black box</p>
<ul>
<li>consuming a <em>stream</em> of <em>input data</em> from the <strong>standard input</strong> channel (<code>stdin</code>)</li>
<li>producing a <em>stream</em> of <em>output data</em> to the <strong>standard output</strong> channel (<code>stdout</code>)</li>
<li>and, possibly, producing a <em>stream</em> of <em>error data</em> to the <strong>standard error</strong> stream (<code>stderr</code>)</li>
</ul>
</li>
<li>
<p>more channels may be opened by the process, e.g. when <em>reading</em> / <em>writing</em> <strong>files</strong></p>
</li>
</ul>
<blockquote>
<p>a <strong>stream</strong> is an <em>unlimited</em> sequence of <em>bytes</em> (or <em>characters</em>)</p>
</blockquote>
<ul>
<li>this may represent <strong>anything</strong> having a digital representation (e.g. a file, a network connection, a device, etc.)</li>
</ul>
</section><section>
<h2 id="about-interactive-processes-pt-2">About interactive processes (pt. 2)</h2>
<p>Most commonly, for <strong>interactive</strong> processes, the situation is as follows:</p>
<!-- ![Default streams of each process are connected to the terminal by default](./process-terminal.png) -->
<!-- <img src="./process-terminal.png" style='
    
    height: 30vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
'>
 -->
<p align="center">
<img src="https://raw.githubusercontent.com/unibo-dtm-se/course-slides/master/content/preliminaries/process-terminal.png" alt="drawing" style="width:400px;">
</p>
<ul>
<li>all three streams are connected to the terminal by default
<ul>
<li>so the process <em>reads</em> input from the keyboard</li>
<li>and <em>writes</em> output to the terminal</li>
<li>and <em>writes</em> errors to the terminal (sometimes, errors are <em>colored</em> differently)</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-interactive-processes-pt-3">About interactive processes (pt. 3)</h2>
<h3 id="example-the-nano-command">Example: the <code>nano</code> command</h3>
<blockquote>
<p><code>nano</code> is a simple, interactive, text editor for the terminal</p>
</blockquote>
<ol>
<li>
<p>Open a shell, and run the following command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>nano myfile.txt
</span></span></code></pre></div></li>
<li>
<p>This should transform the terminal into a text editor, editing the file <code>myfile.txt</code></p>
<ul>
<li>you can write some text in there, e.g. <code>Hello World</code></li>
</ul>
</li>
<li>
<p>Then, press <kbd>Ctrl</kbd>+<kbd>O</kbd> to save the file</p>
<ul>
<li>you will be asked to confirm the file name, press <kbd>Enter</kbd></li>
</ul>
</li>
<li>
<p>Then, press <kbd>Ctrl</kbd>+<kbd>X</kbd> to exit the editor</p>
</li>
<li>
<p>You should be back to the shell, and the file <code>myfile.txt</code> should have been created</p>
<ul>
<li>you can verify that, via the <code>ls</code> command</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="the-python-command">The Python command</h2>
<ul>
<li>
<p>Python is a programming language, namely, the reference programming language we use in the course</p>
</li>
<li>
<p>We will operate Python stuff via the terminal, using the <code>python</code> <strong>command</strong></p>
</li>
<li>
<p>The command‚Äôs behaviour is very different depending on which and how many arguments are passed:</p>
<ul>
<li><code>python</code> <em>with no arguments</em> starts an <strong>interactive</strong> <em>Python shell</em>
<ul>
<li>i.e. yet another shell, but using the <em>Python syntax</em></li>
</ul>
</li>
<li><code>python FILENAME</code> starts a <em>Python process</em> that <em>executes</em> the <em>Python code</em> in the <strong>file</strong> <code>FILENAME</code></li>
<li><code>python -m MODULE</code> starts a <em>Python process</em> that <em>executes</em> the <strong>module</strong> named <code>MODULE</code>
<ul>
<li>we‚Äôll see what a <em>module</em> is, later in the course</li>
</ul>
</li>
<li><code>python -c "CODE"</code> starts a <em>Python process</em> that <em>executes</em> the <em>Python code</em> in the <strong>string</strong> <code>"CODE"</code>
<ul>
<li>e.g. <code>python -c "print('Hello World')"</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Use <code>python --help</code> to inspect the <em>help</em> of the <code>python</code> command, and see all the options</p>
</li>
<li>
<p>When using Python, always remember to check the <em>version</em> of the Python interpreter you are using</p>
<ul>
<li><code>python --version</code> or <code>python -V</code></li>
</ul>
</li>
</ul>
</section><section>
<h1 id="code-and-code-organization">Code and code organization</h1>
</section><section>
<h2 id="running-example-pt-1">Running example (pt. 1)</h2>
<p>Let‚Äôs say we are going to build a simple <em>calculator</em> app, in Python</p>
<p>Using <a href="https://kivy.org/">Kivy</a> for the GUI, we may easily build the following app:</p>
<!--<img src="./calculator.png" style='
    
    height: 30vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
'>
-->
<p><img src="https://raw.githubusercontent.com/unibo-dtm-se/course-slides/master/content/preliminaries/calculator.png" alt=""></p>
</section><section>
<h2 id="running-example-pt-2">Running example (pt. 2)</h2>
<p>The source code for such application is available here:</p>
<p><a href="https://github.com/unibo-dtm-se/compact-calculator">https://github.com/unibo-dtm-se/compact-calculator</a></p>
<h3 id="to-do-list">TO-DO list</h3>
<ol>
<li>Download the code by clicking on the <em>green ‚ÄúCode‚Äù button</em>, and then <strong>‚ÄúDownload ZIP‚Äù</strong></li>
<li>Unpack the archive in a directory of your choice</li>
<li>Open the directory in some lightweight IDE like <strong>VS Code</strong>
<ul>
<li>possibly exploit the <strong>integrated terminal</strong></li>
</ul>
</li>
<li>Inspect the content of the directory (e.g. via the terminal, using the <code>ls -la</code> command)
<ul>
<li>you should notice 4 files:
<ul>
<li><code>.python-version</code> (hidden on Unix) <em>textual</em> declaration of the <em>Python version</em> <strong>required</strong> by the application</li>
<li><code>calculator.py</code>: the <em>source code</em> of the application</li>
<li><code>requirements.txt</code>: a file containing the <em>dependencies</em> of the application</li>
<li><code>README.md</code>: a file containing some <em>notes</em> about of the application</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="running-example-pt-3">Running example (pt. 3)</h2>
<ol start="4">
<li>
<p>Notice that the <code>calculator.py</code> file is a <em>Python script</em> that contains <em>only</em> <strong>46 lines of code</strong></p>
</li>
<li>
<p>Have a look to the source code of the <code>calculator.py</code> file</p>
<ul>
<li>do you recognize any structure in the code?</li>
<li>do you have any clue about what‚Äôs going on in the code?</li>
</ul>
</li>
<li>
<p>Let‚Äôs try to run the application</p>
<ol>
<li>open a terminal in the directory of the application (the VS Code is fine)</li>
<li>run the following command
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python calculator.py
</span></span></code></pre></div></li>
<li>you may observe the following output in the terminal:
<pre tabindex="0"><code>Traceback (most recent call last):
File "/path/to/your/directory/calculator.py", line 1, in &lt;module&gt;
    from kivy.app import App
ModuleNotFoundError: No module named 'kivy'
</code></pre></li>
</ol>
</li>
<li>
<p>The issue here is that our application <strong>depends on</strong> some <em>third-party</em> <strong>library</strong>, namely <a href="https://kivy.org/">Kivy</a></p>
<ul>
<li><strong>third-party</strong> $\approx$ <em>not written by us</em> + <em>not included Python</em> by default</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="running-example-pt-4">Running example (pt. 4)</h2>
<ol start="8">
<li>
<p>The solution is pretty simple: let‚Äôs <em>install</em> the missing <strong>dependency</strong></p>
<ul>
<li>we can do that via the <code>pip</code> command, which is the <em>Python package manager</em>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>pip install kivy
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>After the installation, we can try to run the application again</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python calculator.py
</span></span></code></pre></div><p>this time, the application should start, and you should see the calculator Window</p>
</li>
<li>
<p>play a bit with the application</p>
<ul>
<li>ensure it works as expected</li>
<li>finally, close the Window, and notice that control is returned to the terminal</li>
</ul>
</li>
<li>
<p>either in the terminal (<code>ls -la</code>), or in the GUI, you may notice a new <em>sub-directory</em> named <code>__pycache__</code></p>
<ul>
<li>with a file named <code>calculator.cpython-3XXX</code><strong><code>.pyc</code></strong> (or similar) in it
<ul>
<li>that is a <strong>compilation</strong> <em>cache</em> file, generated by the Python interpreter, for our application</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="many-hidden-concepts-in-this-example">Many hidden concepts in this example</h2>
<ol>
<li>
<p>the notion of <strong>library</strong></p>
<ul>
<li>i.e. a <em>collection</em> of <strong>pre-cooked software</strong> be <em>reused</em> in <em>different</em> applications</li>
</ul>
</li>
<li>
<p>the notion of <strong>dependency</strong></p>
<ul>
<li>i.e. a piece of <em>software</em> that is <em>required</em> by another piece of software to <em>run</em></li>
</ul>
</li>
<li>
<p>the notion of <strong>runtime</strong></p>
<ul>
<li>i.e. the <em>environment</em> in which a <em>piece</em> of software is <em>executed</em></li>
</ul>
</li>
<li>
<p>the notion of <strong>package manager</strong></p>
<ul>
<li>i.e. a <em>tool</em> that <em>automates</em> the <strong>installation</strong> of <em>dependencies</em> into a <em>runtime</em></li>
</ul>
</li>
<li>
<p>the notion of <strong>compilation</strong></p>
<ul>
<li>i.e. the <em>process</em> of <em>translating</em> a <em>source code</em> into a <em>machine code</em> that can be <em>executed</em></li>
</ul>
</li>
</ol>
</section><section>
<!--
## Compilation vs. Interpretation of Programs

- A program is a __set of instructions__ that a _computer_ can __execute__

- Computers nowadays follow the [Von Neumann architecture](https://en.wikipedia.org/wiki/Von_Neumann_architecture)
    + put it simply, they follow a _list_ of __instructions__, from some __instruction language__
        * modern CPU producers (Intel, AMD, ARM, etc.) constuct CPU which comply to well known instruction sets (e.g. `x86`, `amd64`, `arm`, etc.)
        ‚Äî different architectures have different instruction sets

- Programming languages are meant to be __understood__ by _humans_ (_not_ by computers)

- To make a _computer_ understand a _program_, the _program_ must be __translated__ into _machine code_
    + i.e. a list of instructions in the _instruction language_ of that computer's _CPU_

- The __translation__ procedure is _hardware-dependent_, and it may vary _among OS_
    + to generalise, we say the translation procedure is __platform-dependent__

- There are two main ways to _translate_ a _program_ into _machine code_:
    1. __compilation__: the program is translated into an _executable_, via some __compiler__, and then executed
    2. __interpretation__: the program is read by an __interpreter__ (i.e. an _executable_), which _executes_ it

- The result is the same (the program is executed, i.e. the computer follows the instructions)
    + but the _implications_ are different

--- 

## Compilation vs. Interpretation of Programs (pt. 2)
    
- Compilation implies:
    1. a __compiler__ should be created _for each_ target platform
    2. each software project should be __compiled__, _for each_ target platform, _before_ being executed
    3. execution is potentially _faster_, as the _machine code_ is _optimised_ for the target CPU  
        * but higher speed is not guaranteed, and it may be _negligible_ in many cases
        * but many application do not require high-speed execution
    4. the compiler may spot some _errors_ in the program __before__ it is executed

- Interpretation implies:
    1. an __interpreter__ should be created _for each_ target platform
    2. the software can be executed __as is__ on all supported platforms
        + one less step in the workflow!
    3. execution is potentially _slower_, as the interpreter translates code _on the fly_
        + but the write-test-debug cycle is potentially _faster_
    4. the programmer may only spot _errors_ in the program __after__ it is executed

- Historically, _programming languages_ have been __categorised__ as _either compiled or interpreted_
    + C, C++, Rust, Go, etc. are _compiled_ languages
    + Ruby, JavaScript, etc. are _interpreted_ languages

--- 

## Compilation vs. Interpretation of Programs (pt. 3)    

- Nowadays, the _distinction_ is _blurred_
    + many languages are _both_ compiled and interpreted, there including _Python_, and _Java_
        1. on the surface, they are _interpreted_
        2. but the interpreter _compiles_ the code _on the fly_...
        3. and __saves__ the compiled version for later _re-use_

- As always, mixing opposite approaches may lead to the _best of both worlds_
    + e.g. the _interpreter_ may spot errors in the program before it is executed
    + e.g. in then interpretation and compilation are mixed, the _interpreter_ can _optimise_ the _machine code_ in a very fine grained way

- The idea of __saving__ a _hard-to-achieve_ result for _later re-use_ is called __caching__
    + and it is common trick in _software development_

- The CPython interpreter (i.e. the _reference_ Python implementaton) adopts a strategy of this sort
    + the __.pyc__ files you met before, are the __cache files__ produced by the Python interpreter
        + upon _first_ __succesful__ execution of a script

---
-->
<h2 id="libraries-pt-1">Libraries (pt. 1)</h2>
<ul>
<li>
<p>Basically no programmer ever writes an entire application <strong>from scratch</strong></p>
<ul>
<li>virtually all programmers <em>re-use</em> someone else‚Äôs code to do their job</li>
</ul>
</li>
<li>
<p>One key principle in SE has always been:</p>
</li>
</ul>
<blockquote>
<p>Don‚Äôt reinvent the wheel</p>
</blockquote>
<ul>
<li>
<p>SE is essentially about how to write <em>good</em> code, which works well, and <strong>can be reused in the future</strong></p>
<ol>
<li>let‚Äôs design software to be <em>general</em></li>
<li>let‚Äôs write the code to <em>work well</em></li>
<li>let‚Äôs give it a <em>name</em> and clearly <em>document</em> how it works (input, output, etc.)</li>
<li>let‚Äôs make it <em>reusable</em>, i.e. <em>referenceable</em> (<strong>callable</strong>) by other software</li>
</ol>
</li>
<li>
<p>Collections of <em>reusable</em> code are called <strong>libraries</strong></p>
</li>
</ul>
</section><section>
<h2 id="libraries-pt-2">Libraries (pt. 2)</h2>
<ul>
<li>
<p>All programming languages have a <em>standard library</em>‚Ä¶</p>
<ul>
<li>i.e. a collection of <em>reusable</em> code that comes with the language, by default
<ul>
<li>e.g. the <code>math</code> module in Python, the <code>java.util</code> package in Java, etc.</li>
<li>BTW, Python has one of the <em>richest</em> standard libraries among programming languages</li>
</ul>
</li>
<li>most commonly, <em>any two versions</em> of a programming language would have a <em>different</em> standard library
<ul>
<li>the syntax of the language may not even change</li>
</ul>
</li>
</ul>
</li>
<li>
<p>‚Ä¶ plus some mechanism to <em>install</em> and <em>import</em> <strong>third-party</strong> libraries</p>
<ul>
<li>e.g., in Python, the <code>pip</code> command is used to install third-party libraries</li>
<li>e.g., in Python, the <code>import</code> statement is used to import libraries in the script
<ul>
<li>upon import, the difference among <em>standard</em> and <em>third-party</em> libraries is <em>irrelevant</em></li>
</ul>
</li>
</ul>
</li>
<li>
<p>The consequences of this ‚Äúlibrary‚Äù idea are manifold</p>
<ul>
<li>what libraries are available for Python program to use?</li>
<li>what third-party libraries can one install?</li>
<li>what‚Äôs the impact of using a third-party library for my application?</li>
<li>how can one write a library that can be reused by others?
<ul>
<li>why should one do that?</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="runtime-pt-1">Runtime (pt. 1)</h2>
<ul>
<li>The <strong>runtime</strong> is the <strong>environment</strong> in which a <em>piece</em> of software is <em>executed</em>
<ul>
<li>not to be confused with <strong>run-time</strong>, which is the <em>time</em> when the <em>software</em> is <em>executed</em></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Runtime</strong> of a program $\approx$ jargon for ‚Äúthe <em>set of</em> <strong>libraries</strong> actually available for that program at run-time‚Äù</p>
</blockquote>
<ul>
<li>this commonly includes:
<ol>
<li>the <em>standard library</em> of the interpreter executing the
<ul>
<li>e.g. <strong>Python 3.11</strong>‚Äôs standard library for our <em>calculator</em> application</li>
</ul>
</li>
<li>any <em>third-party</em> library installed onto that interpreter
<ul>
<li>e.g. <strong>Kivy</strong> for our <em>calculator</em> application</li>
</ul>
</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="dependencies-pt-1">Dependencies (pt. 1)</h2>
<ul>
<li>
<p>Developers <em>exploit libraries</em> produced by others to <em>avoid</em> <strong>wasting time</strong> reinventing the wheel</p>
</li>
<li>
<p>The reasoning is more or less as follows:</p>
<ol>
<li>one needs to realise some software for functionality <strong>$F$</strong></li>
<li>writing the code for <strong>$F$</strong> requires some effort <strong>$E_{scratch} &gt; 0$</strong></li>
<li>there exist some library <strong>$L$</strong> which reduces the effort to <strong>$0 &lt; E_{use} &lt; E_{scratch}$</strong></li>
<li>installing the library requires some effort <strong>$E_{install} &gt; 0$</strong></li>
<li>learning how to use the library requires some effort <strong>$E_{learn} &gt; 0$</strong></li>
<li>in the likely case that <strong>$E_{install} + E_{learn} + E_{use} &lt; E_{scratch}$</strong>, one should use the library</li>
</ol>
</li>
</ul>
<br>
<blockquote>
<p>A <strong>dependency</strong> among some <em>software</em> <strong>$S$</strong> and some <em>other software</em> <strong>$L$</strong></p>
<p>occurs when <strong>$S$</strong> <em>requires</em> <strong>$L$</strong> to <em>work</em></p>
</blockquote>
<ul>
<li><strong>requires</strong> $\approx$ <strong>$S$</strong> needs <strong>$L$</strong> to be part of its runtime to be <em>executed</em></li>
<li>this is commonly the result of the reasoning above</li>
<li>for instance, the <em>calculator</em> application <strong>depends on</strong> the <em>Kivy</em> library, and on the <em>Python 3.11</em> standard library</li>
</ul>
</section><section>
<h2 id="dependencies-pt-2">Dependencies (pt. 2)</h2>
<p>Some definitions related to the notion of <strong>dependency</strong>:</p>
<blockquote>
<p><strong>Transitive dependency</strong>: if <strong>$S$</strong> depends on <strong>$L$</strong>, and <strong>$L$</strong> depends on <strong>$M$</strong>, then <strong>$S$</strong> <em>transitively</em> depends on <strong>$M$</strong></p>
</blockquote>
<ul>
<li>non-transitive dependencies are called <strong>direct</strong> dependencies</li>
</ul>
</section><section>
<h2 id="dependencies-pt-3">Dependencies (pt. 3)</h2>
<blockquote>
<p><strong>Dependency graph</strong> of a software <strong>$S$</strong>: the graph spawned by all the dependencies (direct or transitive) depedencies of <strong>$S$</strong></p>
</blockquote>
<ul>
<li>e.g. the dependency graph of our <em>calculator</em> application includes <em>Kivy</em> and <em>Python 3.11</em> standard library, and all transitive depedencies of <em>Kivy</em>:
<pre tabindex="0"><code>calculator.py
‚îú‚îÄ‚îÄ Python 3.11.7
‚îî‚îÄ‚îÄ kivy 2.3.0
    ‚îú‚îÄ‚îÄ docutils *
    ‚îú‚îÄ‚îÄ kivy-deps-angle &gt;=0.4.0,&lt;0.5.0
    ‚îú‚îÄ‚îÄ kivy-deps-glew &gt;=0.3.1,&lt;0.4.0
    ‚îú‚îÄ‚îÄ kivy-deps-sdl2 &gt;=0.7.0,&lt;0.8.0
    ‚îú‚îÄ‚îÄ kivy-garden &gt;=0.1.4
    ‚îÇ   ‚îî‚îÄ‚îÄ requests *
    ‚îÇ       ‚îú‚îÄ‚îÄ certifi &gt;=2017.4.17
    ‚îÇ       ‚îú‚îÄ‚îÄ charset-normalizer &gt;=2,&lt;4
    ‚îÇ       ‚îú‚îÄ‚îÄ idna &gt;=2.5,&lt;4
    ‚îÇ       ‚îî‚îÄ‚îÄ urllib3 &gt;=1.21.1,&lt;3
    ‚îú‚îÄ‚îÄ pygments *
    ‚îî‚îÄ‚îÄ pypiwin32 *
        ‚îî‚îÄ‚îÄ pywin32 &gt;=223
</code></pre></li>
</ul>
</section><section>
<h2 id="package-managers-and-package-reporitories">Package managers and package reporitories</h2>
<ul>
<li>
<p>To support the <strong>extension</strong> of <em>runtimes</em>, and therefore the <strong>addition</strong> of <em>dependencies</em>‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ most programming languages come with 2 related tools:</p>
<ol>
<li>a <strong>package manager</strong>, which is a (command-line)-<em>tool</em> to <em>install</em> and <em>manage</em> <em>dependencies</em>, semi-automatically</li>
<li><strong>package repositories</strong>, which are <em>collections</em> of <em>software</em> and <em>metadata</em> about that <em>software</em>, commonly accessible via the Web</li>
</ol>
</li>
<li>
<p><strong>Packgage</strong> $\approx$ a <em>piece</em> of <em>software</em> with a <em>name</em> and a <em>version</em>, and a fixed structure eases <em>installation</em> and <em>reuse</em></p>
<ul>
<li>each package manager/repository subtends a <em>package format</em>, and some installation or publication procedures</li>
</ul>
</li>
<li>
<p>Package managers commonly support specifying from which <em>repository</em> a <em>dependency</em> should be <em>installed</em></p>
<ul>
<li>yet, each programming language may have its own <em>default</em> package repository</li>
</ul>
</li>
<li>
<p>In the Python world:</p>
<ul>
<li>the <a href="https://pypi.org/">Python Package Index</a> (<strong>PyPI</strong>) is the <em>default</em> software repository, full of <em>open-source</em> Python software</li>
<li>the <code>pip</code> command is the <em>default</em> package manager, and it is <em>tightly</em> integrated with PyPI
<ul>
<li>by default <code>pip install NAME</code> installs <em>the last version of</em> the <strong>package</strong> <code>NAME</code> from PyPI</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="dependency-declaration">Dependency declaration</h2>
<ul>
<li>
<p>It is a good practice to <strong>document</strong> which <em>dependencies</em> a <em>software</em> relies upon</p>
<ul>
<li>names and versions, possibly</li>
</ul>
</li>
<li>
<p>It is even a better practice to <strong>automate</strong> the <em>installation</em> of <em>dependencies</em></p>
<ul>
<li>so that they can be <em>restored</em> in automatically in any new development / usage environment</li>
</ul>
</li>
<li>
<p>Other than package managers and repositories, automation requires <strong>dependency declaration</strong></p>
<ul>
<li>each package manager supports some <strong>file format</strong> for this purpose</li>
</ul>
</li>
<li>
<p>In the Python world, there are <strong>several conventions</strong> for dependency declaration</p>
<ul>
<li>the most common is the <code>requirements.txt</code> file
<ul>
<li>which contains a list of <em>dependencies</em> in the form <code>NAME==VERSION</code></li>
<li>the <code>pip install -r requirements.txt</code> command installs all depndencis in the file</li>
</ul>
</li>
<li>another common convention is to declare Python version in a <code>.python-version</code> file
<ul>
<li>the <a href="https://github.com/pyenv/pyenv"><code>pyenv</code></a> <code>install</code> command can <em>install</em> corresponding version of Python</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="package-managers-into-the-wild">Package managers into the wild</h2>
<ul>
<li>
<p>The <em>Python</em> world is <em>not</em> the <em>only</em> one where <em>package managers</em> and <em>package repositories</em> are <em>used</em></p>
</li>
<li>
<p>Most programming languages have their own <em>package manager</em> and <em>package repository</em></p>
<ul>
<li>e.g. <em>Java</em> has <em>Maven</em> and <em>Gradle</em>, and <em>Maven Central</em></li>
<li><em>JavaScript</em> has <em>npm</em> and <em>npmjs.com</em></li>
<li><em>Rust</em> has <em>Cargo</em> and <em>crates.io</em></li>
<li><em>Go</em> has <em>go</em> and <em>pkg.go.dev</em></li>
<li><em>Ruby</em> has <em>gem</em> and <em>rubygems.org</em></li>
<li><em>C++</em> has <em>vcpkg</em> and <em>conan.io</em></li>
<li>etc.</li>
</ul>
</li>
<li>
<p>In the Linux world, package managers/repositories are used at the OS level too</p>
<ul>
<li>e.g. <em>Debian</em> and <em>Ubuntu</em> distributions use <em>apt</em> and <em>Debian repositories</em></li>
<li><em>Red Hat</em> and <em>Centos</em> distributions use <em>yum</em> and <em>Red Hat repositories</em></li>
<li><em>Arch Linux</em> and its derived distriutions use <em>pacman</em> and <em>Arch Linux repositories</em></li>
<li>etc.</li>
</ul>
</li>
<li>
<p>On MacOS, the <em>Homebrew</em> package manager is widely used (not shipped with the OS)</p>
</li>
<li>
<p>On Windows, one can use <em>chocolatey</em> or <em>scoop</em> as package managers (not shipped with the OS)</p>
</li>
</ul>
</section><section>
<!--
## About release and deployment

- Notice that private companies may have their own _private_ package repositories
    
- Also notice that some private companies may want to _publish_ their _software_ to _public_ repositories
    + e.g. the _Play store_ or the _App store_ for mobile applications

- In all such cases, you may interpret the _release_ and _deployment_ activities as follows:

    1. __Release__: the activity of making a particular __version__ of some _package_ __available__ on a package manager

    2. __Deployment__: the process of __installing__ a particular version of a system onto the __production environment__
        + i.e. either the machine(s) of the end users, or the servers the end users interact with
        + this may be simple when the system is a _single package_, but it may be _complex_ when the system is a _collection_ of _interacting_ packages

---
-->
<h2 id="what-about-the-actual-code">What about the actual code?</h2>
<p>Let‚Äôs delve into the <a href="https://github.com/unibo-dtm-se/compact-calculator/blob/master/calculator.py">actual code</a> of the <em>calculator</em> application</p>
<p>(focus on the comments)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Import a bunch of stuff from the Kivy library, used below</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.app</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">App</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.boxlayout</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">BoxLayout</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.button</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Button</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.label</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Label</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Matrix of button names and their layout in the GUI</span>
</span></span><span style="display:flex;"><span><span style="color:#000">BUTTONS_NAMES</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'7'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'8'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'9'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'/'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'4'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'5'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'6'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'*'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'1'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'2'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'3'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'-'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'.'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'0'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'='</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'+'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Calculator *class*: template for all sorts of calculators. this is a particular case of App (i.e. a window, in Kivy)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CalculatorApp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">App</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Method to build the GUI of the calculator, accordinging to Kivy's conventions</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">build</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Definition &amp; initialisation of the "expression" field of the calculator.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># This fields stores a string, representing the expression to be evaluated when "=" is pressed</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">""</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Let's create a layout, i.e. a virtual container of the visual components the GUI.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># The grid shall dispose components vertically (top to bottom), i.e. it contains *rows* of components</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">grid</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">BoxLayout</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">orientation</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">'vertical'</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Let's create a label, which will serve as the display of the calculator</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Label</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">'0'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">font_size</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">size_hint</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.75</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Let's add the label to the grid, as the first row</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">grid</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># For each *list of* button names in the matrix of button names...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">button_names_row</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">BUTTONS_NAMES</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># ... let's create another virtual container for a *row* for components</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">grid_row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">BoxLayout</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># ... then, for each button name in the list of button names...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">button_name</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">button_names_row</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... let's create a button, having the button name as text</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># (the button is configured to call method on_button_press when pressed)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">button</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Button</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">button_name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">font_size</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">on_press</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">on_button_press</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... and let's add the button to the row</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">grid_row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">button</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># ... and let's add the row to the grid</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">grid</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">grid_row</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Finally, let's return the grid, what will be showed in the window</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">grid</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Method to be called when a button is pressed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">on_button_press</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">button</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># If the button is the "=" button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">button</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">'='</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># Try to...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">try</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... evaluate the expresion *as a Python expression*, convert the result to a string, </span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># and show that string on the calculator display</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">eval</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># If an error occurs in doing the above (e.g. wrong expression)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">except</span> <span style="color:#c00;font-weight:bold">SyntaxError</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... set the display to "Error"</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">'Error'</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># Reset the calculator's expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">""</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># If the button is any other button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># Append the button's text to the calculator's expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">+=</span> <span style="color:#000">instance</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># Show the calculator's expression on the display</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># If the script is executed as a standalone program (i.e. not imported as a module)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">__name__</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">'__main__'</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Let's create a new calculator application, and run it</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">CalculatorApp</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">run</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><ul>
<li>the whole application is contained in a single file, <code>calculator.py</code>, with a single class <code>CalculatorApp</code></li>
<li>the classe mixes <em>UI</em> and <em>businness logic</em> in a single place</li>
</ul>
</section><section>
<h2 id="the-issue-with-the-current-version-of-the-code-pt-1">The issue with the current version of the code (pt. 1)</h2>
<!-- ![The system is what the user sees](./view-only.svg) -->
<!-- <img src="./view-only.svg" style='
    
    height: 40vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
'>
 -->
<p><img src="https://raw.githubusercontent.com/unibo-dtm-se/course-slides/master/content/preliminaries/view-only.png" alt=""></p>
<br>
<ul>
<li>
<p>The system <strong>is</strong> what the user <em>sees</em> (i.e. the <strong>view</strong>)</p>
</li>
<li>
<p>The code is <strong>not</strong> modular: <em>view</em>, <em>controller</em>, and <em>model</em> are <em>mixed</em> together</p>
<ul>
<li>the <strong>view</strong> $\approx$ what is shown to the user</li>
<li>the <strong>model</strong> $\approx$ what the application <em>does</em> or <em>can do</em></li>
<li>the <strong>controller</strong> $\approx$ the <em>glue</em> between the <em>view</em> and the <em>model</em>
<ul>
<li>dictating how <em>changes</em> in the <em>view</em> are <em>reflected</em> in the <em>model</em></li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="the-issue-with-the-current-version-of-the-code-pt-2">The issue with the current version of the code (pt. 2)</h2>
<ul>
<li>
<p><em>Requirements may change</em>, e.g.: customers may ask for:</p>
<ul>
<li>novel operations (e.g. square root, power, etc.) to be supported
<ul>
<li>implies changes in the model, the view, and the controller</li>
</ul>
</li>
<li>a completely different view (e.g. a web interface)
<ul>
<li>implies rewriting the controller and the model, to just revrite the view</li>
</ul>
</li>
<li>a completely different model (e.g. a programmer calculator, supporting bin, oct, hex, dec)
<ul>
<li>implies rewriting the view and the controller, to just rewrite the model</li>
</ul>
</li>
</ul>
</li>
<li>
<p>It may be hard to <strong>change</strong> the model, without breaking the view or the controller</p>
<ul>
<li>the same apply for any other permutation of the three</li>
</ul>
</li>
<li>
<p>It may be hard to <strong>test</strong> the model, without testing the view or the controller</p>
<ul>
<li>the same apply for any other permutation of the three</li>
</ul>
</li>
<li>
<p>The application is, and <em>will always <strong>only</strong> be</em>, a desktop application</p>
<ul>
<li>unless complete rewrites are performed</li>
</ul>
</li>
</ul>
</section><section>
<!--
## A good way to decompose code (pt. 1)

<!-- <img src="./view-model.svg" style='
    
    height: 40vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
'>
 
![](https://raw.githubusercontent.com/unibo-dtm-se/course-slides/master/content/preliminaries/view-model.png)

- A good way to decompose code is to follow the [__Model-View-Controller__](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (__MVC__) pattern

- Different _portions_ of the code are _responsible_ for _different_ aspects of the application
    + some code is responsible for __modelling__ the (_admissible_) _functionalities_ of the application
    + some code is responsible for __presenting__ the (_view_ of the) application to the user
    + some code is responsible for __controlling__ the _interaction_ between the _user_ and the _application_
    + some code just _ties the pieces_ together

- The desktop application is just one of many options
    + as the GUI is just one of many possible views

---

## A good way to decompose code (pt. 2)

- The same _model_ could be __attached__ to several different _views_, via as many _controllers_
    + without needing to re-write, or re-test the _model_ at all

- The code of each portion could be _developed_ and _tested_ __independently__
    + possibly, at different paces, by different teams

- A bug in one portion of the code may be noticed before it affects the others

- It allows managers, developers, and users to _reason_ about
    + what the _application_ does (i.e. what functionalities it provides)
    + how the _application_ is _presented_ to users (multiple options may apply)
    + how the _user_ interacts with the _application_

---

## Code decomposition and modularity

- The idea of __decomposing__ code into smaller, simpler _units_ is pervasive in SE

- Generally speaking, this idea is called __modularity__
    + the idea is design a software system as a _collection_ of _composable_ __modules__
        * a.k.a. _components_, _units_, _pieces_, etc.

- Each module should have 
    1. a single __purspose__, and clear _responsibilities_
    2. a _well-defined_ __interface__ to the _outside world_ (i.e. users and other modules)
    3. a number of __formal parameters__ which make the module _adaptable_ to many different instances of the same problem

- Two important notions here:
    1. __encapsulation__ $\approx$ whenever code is produced to solve a problem, let's encapsulate it into a module for later reuse
    2. __information hiding__ $\approx$ whenever a module is produced, only its interface is important for users, the implementation is hidden, and to most extents, irrelevant

- Programming languages are plenty of __mechanisms__ to support modularity, at different _levels_
    + e.g. _functions_, _classes_, _modules_, _packages_, etc.

---

## Code decomposition and modularity in Python

1. __Functions__ are the most basic form of modularity in Python
    + function _encapsulate_ a piece of _code_, aimed at either _returning a value_, or _performing some action_

    ```python
    def sum(a, b):
        return a + b
    ```

2. __Classes__ are a way to _encapsulate_ both _data_ and _functions_ into a single _unit_
    + syntactically, think of classes as _groups of related functions_, possibly operating on _shared variables_ 
    + semantically, classes are _templates_ for __objects__ (cf. [Object Oriented Programming](https://en.wikipedia.org/wiki/Object-oriented_programming))

    ```python
    class Pair:
        def __init__(self, fst, snd):
            self.first = fst
            self.second = snd

        def sum(self):
            return self.first + self.second
    ```

---

## Code decomposition and modularity in Python (pt. 2)

3. __Modules__ are a way to _encapsulate_ related _functions_ and _classes_ into a single _unit_
    + syntactically, a module is a `.py` _file_ containing _Python code_

    ```python
    # file: path/to/pair.py
    class Pair:
        def __init__(self, fst, snd):
            self.first = fst
            self.second = snd

        def sum(self):
            return self.first + self.second

    p1 = Pair(1, 2)
    p2 = Pair(3, 4)
    ```

4. __Packages__ are a way to _organize_ related _modules_ in a _hierarchical_ way
    + syntactically, a package is a _directory_ containing _modules_ and _sub-packages_

    ```python
    # another Python file in the same root directory
    from path.to.pair import p1, p2
    
    x1 = p1.sum() # 3
    x2 = p2.sum() # 7
    ```

---

## Code decomposition and modularity in Python (pt. 3)

> __Beware__: Other programming languages may have similar mechanisms, but with different names,
> or they may have different mechanisms to achieve the same goals,
> or they may have a subset of the mechanisms available in Python

---

## About code organization

As code is decomposed into smaller and smaller units...

- It is important to _organize_ the code in a _meaningful_ way
    + so that it is _easy_ to _find_ functionalities, hence easing their _reuse_

- Recall that code is meant to be read by humans, and that 
    + development teams may change
    + external developers using your code need to understand it

- As the software grows, a good _organization_ of the code _mitigates_ the following issues:
    + it is _easier_ to _get lost_ in a _large_ codebase
    + it is _easier_ to _forget_ what a _piece_ of code does, or how it works
    + it is _easier_ to _forget_ whether some functionality is _already implemented_, or not

---

## Running example (pt. 5)

Let's decompose the _calculator_ application in such a way that 
- it has __two__ _user interfaces_ (UI) ...
    + namely, a _GUI_, and a __command-line interface__ (_CLI_)
- ... both _attached_ to the __same__ _model_

<p align="center">

<div class="container w-100 m-0 p-0">
    <div class='row '>


<div class='col '><h3 id="the-gui">The GUI</h3>
<!--![](./calculator.png) ->
<img src="https://raw.githubusercontent.com/unibo-dtm-se/course-slides/master/content/preliminaries/calculator.png" height="300">

```bash
python -m calculator.ui.gui
```

</div>


<div class='col '><h3 id="the-cli">The CLI</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape><span style="display:flex;"><span>python -m calculator.ui.cli <span style="color:#4e9a06">&#34;1 + 1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>python -m calculator.ui.cli <span style="color:#4e9a06">&#34;2*3&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">6</span>
</span></span></code></pre></div></div>
</div>
</div>
</p>

---

## Running example (pt. 6)

The source code for such application is available here:

<https://github.com/unibo-dtm-se/modular-calculator>

### TO-DO list
1. Download the code by clicking on the _green "Code" button_, and then __"Download ZIP"__
2. Unpack the archive in a directory of your choice
3. Open the directory in some lightweight IDE like __VS Code__
    + possibly exploit the __integrated terminal__
4. Inspect the content of the directory (e.g. via the terminal, using the `tree` command)
    + you should note the following directories and files:
        ```bash
        modular-calculator/     # project root directory
        ‚îú‚îÄ‚îÄ calculator/         # the main package of the project (full name: calculator)
        ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # the package initialization content
        ‚îÇ   ‚îî‚îÄ‚îÄ ui/             # the user interface sub-package (full name: calculator.ui)
        ‚îÇ       ‚îú‚îÄ‚îÄ cli.py      # the command-line interface module (full name: calculator.ui.cli)
        ‚îÇ       ‚îî‚îÄ‚îÄ gui.py      # the graphical user interface module (full name: calculator.ui.gui)
        ‚îú‚îÄ‚îÄ .python-version     # the Python version required by the project
        ‚îú‚îÄ‚îÄ README.md           # a file containing the some _notes_ about of the application
        ‚îú‚îÄ‚îÄ requirements.txt    # a file declaring the _dependencies_ of the application
        ‚îî‚îÄ‚îÄ .vscode             # a directory containing the VS Code configuration
            ‚îî‚îÄ‚îÄ launch.json     # a file containing the VS Code launch configuration
        ```

---

## Running example (pt. 7)

5. Let's try to run the GUI application
    ```bash
    python -m calculator.ui.gui
    ```

    the application should start, and you should see the calculator Window

6. Let's try to run the CLI application
    ```bash
    python -m calculator.ui.cli
    ```

    you should get a hint about how to use the CLI application

7. Let's analyze how the code has been decomposed
    1. have a look to the `calculator` module
        * namely, the `calculator/__init__.py` file
    2. have a look to the `calculator.ui.gui` module
        * namely, the `calculator/ui/gui.py` file
    3. have a look to the `calculator.ui.cli` module
        * namely, the `calculator/ui/cli.py` file

---

## The calculator model (pt. 1)

Code from `calculator/__init__.py`:
```python
Number = int | float

class Calculator:

    def __init__(self):
        self.expression = ""

    def _ensure_is_digit(self, value: int | str):
        if isinstance(value, str):
            value = int(value)
        if value not in range(10):
            raise ValueError("Value must a digit in [0, 9]: " + value)
        return value

    def _append(self, value):
        self.expression += str(value)
    
    def digit(self, value: int | str):
        value = self._ensure_is_digit(value)
        self._append(value)
    
    def plus(self):
        self._append("+")

    def minus(self):
        self._append("-")
    
    def multiply(self):
        self._append("*")
    
    def divide(self):
        self._append("/")

    def dot(self):
        self._append(".")
    
    def compute_result(self) -> Number:
        try:
            result = eval(self.expression)
            if isinstance(result, Number):
                self.expression = str(result)
                return result
            else:
                raise ValueError("Result is not a number: " + str(result))
        except SyntaxError as e:
            expression = self.expression
            self.expression = ""
            raise ValueError("Invalid expression: " + expression) from e
```

---

## The calculator model (pt. 2)


<div class="container w-100 m-0 p-0">
    <div class='row '>


<div class='col '><p>Class diagram:</p>
<figure id="plantuml-figure-1725874205242315454" class="plantuml" 
    alt=""
    style="width: 100%;max-width: 95vw;max-height: 80vh;">
<p>class Calculator {
+ expression: str
- _ensure_is_digit(value: int | str) ‚Üí int
- _append(value: int | str)
+ digit(value: int | str)
+ plus()
+ minus()
+ multiply()
+ divide()
+ dot()
+ compute_result() ‚Üí int | float
}</p>
</figure>
<script>
    handlePlantumlFigureByID("plantuml-figure-1725874205242315454");
</script>
</div>


<div class='col '><p>Usage example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">calculator</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Calculator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Calculator</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># create a new calculator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># append digit 1</span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">plus</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># append the plus sign</span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># append digit 2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># &#34;1+2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">compute_result</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#8f5902;font-style:italic"># 3</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># &#34;&#34;</span>
</span></span></code></pre></div></div>
</div>
</div>

---

## The calculator GUI 

Code from `calculator/ui/gui.py`:
```python
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.button import Button
from kivy.uix.label import Label
from calculator import Calculator # notice this line


BUTTONS_NAMES = [
    ['7', '8', '9', '/'],
    ['4', '5', '6', '*'],
    ['1', '2', '3', '-'],
    ['.', '0', '=', '+'],
]


class CalculatorApp(App):
    def build(self):
        self._calc = Calculator() # new entry here

        grid = BoxLayout(orientation='vertical')

        self._display = Label(text="0", font_size=24, size_hint=(1, 0.75))
        grid.add_widget(self._display)

        for button_names_row in BUTTONS_NAMES:
            grid_row = BoxLayout()
            for button_name in button_names_row:
                button = Button(text=button_name, font_size=24, on_press=self.on_button_press)
                grid_row.add_widget(button)
            grid.add_widget(grid_row)

        return grid

    def on_button_press(self, button): # completely rewritten
        match button.text:
            case "=":
                try:
                    result = self._calc.compute_result()
                    self._display.text = str(result)
                except ValueError as e:
                    self._display.text = "Error"
            case "+":
                self._calc.plus()
                self._display.text = self._calc.expression
            case "-":
                self._calc.minus()
                self._display.text = self._calc.expression
            case "*":
                self._calc.multiply()
                self._display.text = self._calc.expression
            case "/":
                self._calc.divide()
                self._display.text = self._calc.expression
            case ".":
                self._calc.dot()
                self._display.text = self._calc.expression
            case _:
                self._calc.digit(button.text)
                self._display.text = self._calc.expression


if __name__ == '__main__':
    CalculatorApp().run()
```

---

## The calculator CLI

Content of `calculator/ui/cli.py`:
```python
from calculator import Calculator
import sys


class CalculatorCLI:
    def __init__(self, args):
        self._args = args
        self._calc = Calculator()

    def run(self):
        if not self._args:
            print("Usage: python -m calculator.ui.cli <expression>")
            return
        self._calc.expression = " ".join(self._args)
        try:
            result = self._calc.compute_result()
            print(result)
        except ValueError as e:
            print(e)


if __name__ == '__main__':
    CalculatorCLI(sys.argv[1:]).run()
```

---

## Overview on code organization (pt. 1)


<figure id="plantuml-figure-1725874205243833114" class="plantuml" 
    alt=""
    style="width: 100%;max-width: 95vw;max-height: 80vh;">
    

package calculator {
    class Calculator {
        + expression: str
        - _ensure_is_digit(value: int | str) ‚Üí int
        - _append(value: int | str)
        + digit(value: int | str)
        + plus()
        + minus()
        + multiply()
        + divide()
        + dot()
        + compute_result() ‚Üí int | float
    }
    package ui {
        package gui {
            class CalculatorApp {
                - _display: Label
                - _calc: Calculator
                + build(): BoxLayout
                + on_button_press(button: Button)
            }
        }
        package cli {
            class CalculatorCLI {
                - _args: list[str]
                - _calc: Calculator
                + run()
            }
        }

        'cli -[hidden]d- gui
        CalculatorCLI *-- Calculator: composed by
        CalculatorApp *-- Calculator: composed by
    }
}


</figure>
<script>
    handlePlantumlFigureByID("plantuml-figure-1725874205243833114");
</script>

---

## Overview on code organization (pt. 2)

(including dependencies from Python and Kivy)


<figure id="plantuml-figure-1725874205243857860" class="plantuml" 
    alt=""
    style="width: 100%;max-width: 95vw;max-height: 80vh;">
    

package "Python Standard Library" as Python {
    class int
    class str
    class float
    class list
    class ValueError
    metaclass sys
}

package calculator {
    class Calculator {
        + expression: str
        - _ensure_is_digit(value: int | str) ‚Üí int
        - _append(value: int | str)
        + digit(value: int | str)
        + plus()
        + minus()
        + multiply()
        + divide()
        + dot()
        + compute_result() ‚Üí int | float
    }
    package ui {
        package gui {
            class CalculatorApp {
                - _display: Label
                - _calc: Calculator
                + build(): BoxLayout
                + on_button_press(button: Button)
            }
        }
        package cli {
            class CalculatorCLI {
                - _args: list[str]
                - _calc: Calculator
                + run()
            }
        }

        'cli -[hidden]d- gui
        CalculatorCLI *-- Calculator: composed by
        CalculatorApp *-- Calculator: composed by
    }
}

package kivy {
    package app {
        class App
    }
    package uix {
        package boxlayout {
            class BoxLayout
        }
        package button {
            class Button
        }
        package label {
            class Label
        }
    }
}

CalculatorApp --|> App: subtype of
CalculatorApp *-- BoxLayout: composed by
CalculatorApp *-- Button: composed by
CalculatorApp *-- Label: composed by
calculator .left.> Python: uses extensively


</figure>
<script>
    handlePlantumlFigureByID("plantuml-figure-1725874205243857860");
</script>

--- 

## Many hidden concepts in this example

1. the notion of __software design__
    - i.e. the activity of representing _relevant_ __concepts__ (and their __relationships__) from the _domain_ at hand, into the _code_
        + or, the _result_ of such activity (i.e. the representation itself)

2. the notion of __interface__, and, most notably:
    - the __user__ _interface_ (__UI__)
        + i.e. the means by which _users_ interact with the _application_ (in order to use it)
    - the __application programming__ _interface_ (__API__)
        + i.e. the means by which _developers_ interact with the _application_ (in order to write more software on top of it)

3. the notion of __project structure__
    - i.e. how to _organize_ files and directories in software project

---

## About the project structure

- It's important to __organize__ _files_ and _directories_ in software projects in a _clear_ way
    + this is important for both _humans_ and _interpreters_/_compilers_
        * humans may _benefit_ by getting more easily _oriented_ when navigating the _source code_
        * tools most commonly _require_ a _fixed structure_ to _operate_ correctly

- For _Python_ projects, the ultimate project structure will be clear along the way in the course...

- ... for the time being, let's stick to the following project structure:

    ```bash
    root-directory/
    ‚îú‚îÄ‚îÄ main_package/
    ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
    ‚îÇ   ‚îú‚îÄ‚îÄ sub_module.py
    ‚îÇ   ‚îî‚îÄ‚îÄ sub_package/ 
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py 
    ‚îÇ       ‚îî‚îÄ‚îÄ sub_sub_module.py 
    ‚îú‚îÄ‚îÄ .python-version
    ‚îú‚îÄ‚îÄ README.md
    ‚îî‚îÄ‚îÄ requirements.txt
    ```

- Further files/directories will pop-up in the next lectures
    + e.g. for _automated tests_

---

## About user interfaces (pt. 1)

- An application's UI is any means by which __human users__ interact with the application
    + e.g. a _graphical_ user interface (__GUI__), a _command-line_ interface (__CLI__), a _web page_, a _voice user interface_ (__VUI__), etc.

- Regardless of the _appearance_, the __functioning__ of the UI can be summarised as follows:
    1. __present__ the _initial UI_ to the user
    2. __wait__ for _inputs_
    3. __process__ the _inputs_
    4. __present__ the _output_ / _effects_ of the processing to the user
        + possibly, __exit__ if the inputs says to do so
    5. __go__ back to _2_

- Engineering the UI is a _complex_ task, as it involves _many_ aspects of _human-computer interaction_ (__HCI__)...
    + e.g. _usability_, _accessibility_, _aesthetics_, _ergonomics_, etc.

- ... and, of course, elciting the admissible _inputs_ for the UI:
    + and engineering how are being __capture__ or _recognised_
    + and what __processing__ means for each of them
    + and how to __present__ the corresponding _outputs_ / _effects_

---

## About user interfaces (pt. 2)

Disclaimer:

> While __UI__ is very _important_, and _engineering UI_ __is part__ _of SE_, it is _not_ the _only_ part of SE.
> It is far _more important_ in SE to take care about the __API__

<br>

The rationale is as follows:
- UI may change
- a good API allows to _change_ the UI without _rewriting_ the whole software

---

## About application programming interfaces (pt. 1)

> The __application programming interface__ (_API_) of a software is:
> 1. the set of __functionalities__ the software _provides_ to __developers__ for building _other_ software on top of it
> 2. a (semi-)formal __specification__ of 1, including, _for each functionality_:
>   + the _name_ by which it is known / _referenced_
>   + the _formal parameters_ it accepts as _input_
>   + the _return values_ or _effects_ it produces as _outcome_
>   + the _pre-conditions_ and _post-conditions_ it satisfies/establishes

---

## About application programming interfaces (pt. 2)

Recall that software is often _built_ on top of _other_ software, in a __layered__ way:
![Layers in a software system](./layers.jpg)

- You can think of a piece of software as a __provider__ of _services_ to their users
    + here users are, again, software

- At the same time, a piece of software could be a __consumer__ of services from other software

---

## About application programming interfaces (pt. 3)

### Useful metaphor

- The _API_ is the __contract__ between the _provider_ and the _consumer_ of services

- The _provider_ of the services knows __how to provide__ the services

- The _consumer_ of the services knows __what__ the services do, and __how to exploit__ them

- A __change__ in the contract would _affect both_ sides

---

## Application programming interfaces in practice (pt. 1)

### Rule of thumb for Python projects

The _API_ of a _Python project_ consists of
1. the set of all _public_ __modules__
2. plus, the set of all _public_ __definitions__ in those modules
    + e.g. functions, classes, variables, constants
3. plus, the set of all _public_ __attributes__ of those definitions
    + e.g. methods, properties, fields

### What does "public" means here?

> - "__Public__" means "intended for _external_ usage"
>   + i.e. "to be used by _other_ developers (other than the ones who wrote the current code)"
> - the opposite of "public" is "__private__"

---

## Application programming interfaces in practice (pt. 2)

- In Python, everything is _public_ by convention
    + except for the _names_ starting with one or more _underscores_ (`_`)
    + yet, names wrapped by _double_ underscores (`__example__`) are [magic methods](https://realpython.com/python-magic-methods/) 
        * they __alter__ the _behaviour_ of the _classes_ / _modules_ they belong to...
        * ... hence, you should consider them as _public_ too

- __Beware__ because Python adopts the ["consenting adults"](https://stackoverflow.com/a/70736) convention
    + nothing _prevents_ you from using _private_ names, or _magic_ names, as if they were _public_
    + yet, in doing that you are opening yourself to a __risk__
        * i.e. the _private_ functionality you're using may __change abruptly__ in some future version of the software

<br>

Another way to think about _private_ stuff in a software project is:
> _private_ stuff may change __without notice__, in any moment

---

## Application programming interfaces in practice (pt. 3)

- [Class diagrams](https://en.wikipedia.org/wiki/Class_diagram) are a good way to represent the _API_ (as well as the _structure_) of a _software project_
    + they show the _public_ classes, and their _public_ methods and attributes
    + they show the _relationships_ between the classes
        * e.g. the __sub-typing__ and __composition__ relationships, etc.
    + they show the _disposition_ of the classes into _packages_ and _modules_
    + they highlight __public and private__ members of classes / modules

- I use [PlantUML](https://plantuml.com/class-diagram) to draw class diagrams
    + it is a _textual_ way to represent class diagrams
    + it is _easy_ to _write_ and _read_
    + it is _easy_ to generate pictures from it

> Get used to:
> 1. _draw_ class diagrams for your software projects
> 2. _read_ class diagrams of other software projects
> 3. reverse-engineer (or just imagine) the class diagrams of software projects you use

---

# Exercise

1. Let's go back to the _class diagram_ from _a few slides ago_
2. Try to _distinguish_ among _public and private members_ of the classes from _the diagram_
3. Then go back to the source code of the _calculator_ application
4. Finally, try to _identify_ the _public and private members_ of the classes from _the code_

---

## Is CLI a UI or an API?

(spoiler: both)

- A command line application can be seen as:
    + a __UI__ for _users_ who interact with the application via the terminal
    + part of the __API__ for _developers_ who write __scripts__ for a given _shell_


- Recall that a command-line application is just one more __command__ for the _shell_

- The __API__ of a command line application is a description of
    + the set of __arguments__ it accepts when _invoked_ as a command on a shell
    + the __output__ it prints on the shell after the command is _executed_
    + the __exit code__ it returns to the shell after the command is _executed_
    + the __side effects__ it produces on the system after the command is _executed_
        - e.g. file creation, file deletion, file modification, etc.


- Most commonly, the __API__ of a command line application can be inspected via the `--help` argument

---

## Sorts of software projects (pt. 1)

- Depending on _which_ and _how many_ __interfaces__ a software project _exposes_...

- ... the __aim__ of that software project is _different_

- For instace:
    + a __library__ exposes an _API_
    + an __application__ exposes a _UI_
        * a __desktop application__ exposes a _GUI_ (which is tailored for big screens, mouse, and keyboard)
        * a __mobile application__ exposes a _GUI_ (which is tailored for small screens, touch, and gestures)
        * a __web application__ exposes a _GUI_ (which is tailored for web browsers, and the Web)
            - most commonly, this works both on desktop and mobile devices
        * a __command-line application__ exposes a 
            1. a _CLI_ (which is tailored for terminals, and shells) 
            2. an _API_ (which is tailored for shell scripts)

- Further categories may appear along the way in the course:
    + e.g. _services_, _frameworks_, _scripts_, _notebooks_, etc.

---

## Sorts of software projects (pt. 2)

- Notice that the aforementioned categories are __not__ _mutually exclusive_
    + e.g. one software product may _simultanoesly_ be a _library_ and an _application_
        * if properly engineered

- For instance, in order for a software project to support _several UI_...
    + ... it is common to split it into:
        1. one or more components acting as _libraries_, which _expose_ __API__
        2. one or more components acting as __UI__, hence making the whole project an _application_

- We recommend to reason about the __aim__ of the software since the _very beginning_
    + this will _guide_ the _design_ of the software
    + and the _organization_ of the code

---

## About software design (pt. 1)

### Just to give you an insight 

1. After understanding the __requirements__, and the __domain__ at hand...

2. ... _software architects_ will reason about the __design__ of the software
    + which _relevant_ __concepts__ from the domain must be represented in the software?
    + how should those concepts be _related_ to each other?

3. the _result_ of such reasoning is a __model__ of the software
    1. __classes__ / __functions__ are envisioned to _represent_ each _concept_ 
        + possibly __reusing__ existing stuff from _standard_, or _third-party_ libraries
    2. __relationships__ between classes / functions are described
        + e.g. _sub-typing_, _composition_, _aggregation_, _inheritance_, etc.
    3. the __behaviour__ of each class / function is described
        + e.g. _pre-conditions_, _post-conditions_, _invariants_, _state-transition_, etc. 
    4. the __interactions__ between classes / functions are described
        + e.g. who calls what, when, and why

---

## About software design (pt. 2)

### Just to give you an insight (continued)

4. Focus is then directed torwards other _non-functional_ or _trasversal_ aspects of the software
    + e.g. classes / functions for __UI__, and their attachment to the _model_
        * how do _humans_ __use__ the software?
    + e.g. classes / functions for __persistence__, and their attachment to the _model_
        * do the software need to __store__ or __retrieve__ data? _which_ data? _where_? _how_?
    + e.g. classes / functions for __communication__ (over the _network_), and their attachment to the _model_
        * does the software need to __talk__ to other software, located __elsewhere__? 
        * _where_ is "elsewhere"? what network? (Web? Internet? Bluetooth?)
        * are _intermetiary_ components involved? (e.g. _servers_, _message brokers_, etc.)
    + e.g. classes / functions for __authentication__ and __authorization__, and their attachment to the _model_
        * how to _recognise_ __legitimate__ users? _who_ can do _what_?

---

## About software design (pt. 3)

### Example

Let's consider the _calculator_ application

1. _Which_ relevant concepts?
    + __Calculator__: an object for _writing_ arithmetic _expressions_ (one symbol at a time), and _evaluating_ them into _results_
        * repersented by ad-hoc class
    + __Expression__: a combining _numbers_ and _operators_
        + represented by strings (type `str` in Python)
    + __Writing__: an expression should be created by appending digits or symbols, one by one
        + represented by methods of the `Calculator` class
    + __Evaluating__: an expression should be evaluated into a _result_
        + represented by methods of the `Calculator` class
    + __Result__: the outcome of evaluating an expression
        + represented by Python numbers (either `int` or `float`)

---

## About software design (pt. 3)

### Example (continued)
    
2. How should those concepts be _related_ to each other?
    + each `Calculator` object is composed by one (and only one) `Expression` object
        + the latter evolves over time

3. How should the `Calculator` class _behave_?
    + methods of the `Calculator` class are responsible updating the `Expression`
        + by appending digits or symbols
    + one method is responsible for evaluating the `Expression` into a `Result`
        + and resetting the `Expression` to an empty one

---

# Exercises

All exercises involve either analysing or editing the code of the (modular) _calculator_ application

<https://github.com/unibo-dtm-se/modular-calculator>

---

## Exercise 1 

### The impact of modularity on bug detection / fixing

> The calculator has a _bug_: __it does not properly handle division by zero__

Is this a _presentation_, a _modelling_, or an _implementation_ issue?
+ do the software presents information poorly, or misinterprets inputs?
+ are all views affected by the bug? or just one?
+ did we miss something when designing the model?
+ did the implementer make a mistake?

#### TO-DO List

1. play with the software to understand the bug
    + try to reproduce the bug in both the GUI and the CLI
    + try to understand the root cause of the bug

2. solve the bug (by doing some _minimal_ change in the code) 

---

## Exercise 2

### New feature request

> The calculator GUI is missing a feature: __it gives no way to the user to clear the current expression__

We totally missed that functionality when designing the _model_ and the _GUI_
- what is missing in the model?
- what is missing in the GUI?

#### TO-DO List

While minimising changes in the code:
1. extend the _model_ to support the "clearing the current expression" _functionality_
2. extend the _layout_ of the GUI to support one more _button_
3. _attach_ the new button to the new functionality from the model


--->
<h1 id="preliminary-notions-for-software-development-1">Preliminary notions for Software Development</h1>
<h2 id="hahahugoshortcode1s0hbhb">Python 101</h2>
<h3 id="for-distributed-systems"><strong>(for Distributed Systems)</strong></h3>
<h3 id="module-2">Module 2</h3>
<h4 id="hahahugoshortcode1s1hbhb">A.Y. 2024/2025</h4>
<h5 id="hahahugoshortcode1s2hbhb"><a href="mailto:giovanni.ciatto@unibo.it">Giovanni Ciatto</a></h5>
<h5 id="hahahugoshortcode1s3hbhb"><a href="mailto:matteo.magnini@unibo.it">Matteo Magnini</a></h5>
</section><section>
<h2 id="table-of-contents">Table of Contents</h2>
<ol start="0">
<li><a href="..">Course Overview</a></li>
<li><a href="../intro">Preliminary notions for Software Development</a></li>
<li><a href="../language">Introduction to the Python Language</a></li>
<li><a href="../python-project">How to manage a Python Project</a></li>
<li><a href="../example">A Python Project Example</a></li>
<li><a href="../qa-tdd">QA, testing, TDD, reproducibility and replicability</a></li>
</ol>
<p><a href="."><i class="fa fa-arrow-up" aria-hidden="true"></i> top</a></p>
<p><a href=".."><i class="fa fa-undo" aria-hidden="true"></i> back</a></p>
</section>

  


</div>
      

    </div>
<script type="text/javascript" src="/distributed-systems-python-101/reveal-hugo/object-assign.js"></script>

<a href="/distributed-systems-python-101/reveal-js/dist/print/" id="print-location" style="display: none;"></a>

<script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"1080","highlight_theme":"github","history":true,"mermaid":[{"gitGraph":{"mainBranchName":"master","rotateCommitLabel":true},"startOnLoad":false,"useMaxWidth":false}],"slide_number":true,"theme":"league","transition":"slide","transition_speed":"fast","width":"1920"}</script>
<script type="application/json" id="reveal-hugo-page-params">null</script>

<script src="/distributed-systems-python-101/reveal-js/dist/reveal.js"></script>


  
  
  <script type="text/javascript" src="/distributed-systems-python-101/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/distributed-systems-python-101/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/distributed-systems-python-101/reveal-js/plugin/zoom/zoom.js"></script>
  
  <script type="text/javascript" src="/distributed-systems-python-101/reveal-js/plugin/notes/notes.js"></script>
  
  
  <script type="text/javascript" src="/distributed-systems-python-101/reveal-js/plugin/notes/notes.js"></script>




<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }

  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };

  var revealHugoPlugins = { 
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
   };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams),
    camelize(revealHugoPlugins));
  Reveal.initialize(options);
</script>






  

  

  

  

  

  

  



    <script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        svg: {
            fontCache: 'global'
        }
    };
</script>

<script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<script>
    if (/.*?(\?|&)print-pdf/.test(window.location.toString())) {
        var ytVideos = document.getElementsByTagName("iframe")
        for (let i = 0; i < ytVideos.length; i++) {
            var videoFrame = ytVideos[i]
            var isYouTube = /^https?:\/\/(www.)youtube\.com\/.*/.test(videoFrame.src)
            if (isYouTube) {
                console.log(`Removing ${videoFrame.src}`)
                var parent = videoFrame.parentElement
                videoFrame.remove()
                var p = document.createElement('p')
                p.append(
                    document.createTextNode(
                        "There was an embedded video here, but it is disabled in the printed version of the slides."
                    )
                )
                p.append(document.createElement('br'))
                p.append(
                    document.createTextNode(
                        `Visit instead ${
                            videoFrame.src
                        } or ${
                            videoFrame.src.replace(
                                /(^https?:\/\/(www.)youtube\.com)\/(embed\/)(\w+).*/,
                                "https://www.youtube.com/watch?v=$4"
                            )
                        }`
                    )
                )
                parent.appendChild(p)
            }
        }
    }
</script>

    
  

</body></html>